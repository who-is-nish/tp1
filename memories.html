<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Our Memories ğŸ’«</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
</head>

<body class="night-bg">

<div class="flower-container"></div>

<!-- ğŸµ Music -->
<audio id="bgMusic" loop>
  <source src="swim.mp3" type="audio/mpeg">
</audio>


<div class="container">
  <h1 class="fade-in">Sundar Sundar PhotussğŸ’«ğŸ«£</h1>
  
  
  <div class="memory-scroll-container">
    <div class="memory-block fade-in delay-1">
      <div class="memory-text">ğŸ’• Ufff ğŸ¤ŒğŸ½</div>
      <img src="img4.jpeg" class="memory-photo" style="width:225px;height:225px;object-fit:cover;border-radius:15px;>
    </div>
    
    <div class="memory-block fade-in delay-2">
      <div class="memory-text">ğŸŒ¸ The sneak-peaks we never planned</div>
      <img src="img3.jpeg" class="memory-photo" style="width:225px;height:225px;object-fit:cover;border-radius:15px;">
    </div>

    <div class="memory-block fade-in delay-3">
      <div class="memory-text">âœ¨ The moments that turned into memories</div>
      <img src="img1.jpeg" class="memory-photo" style="width:225px;height:225px;object-fit:cover;border-radius:15px;">
    </div>

    <div class="memory-block fade-in delay-4">
      <div class="memory-text">ğŸ’• And the bond that keeps getting stronger</div>
      <img src="img2.jpeg" class="memory-photo" style="width:225px;height:225px;object-fit:cover;border-radius:15px;">
    </div>
  </div>
  <button id="musicToggle" class="enter-btn show-btn fade-in delay-3">â¸</button>
  <button class="enter-btn show-btn fade-in delay-3" onclick="goNext()">
    One Last Thing ğŸ’Œ
  </button>
</div>

<script>
const music = document.getElementById("bgMusic");
const toggleBtn = document.getElementById("musicToggle");

/* ---------- RESTORE ---------- */
const savedTime = localStorage.getItem("musicTime");
if (savedTime) music.currentTime = parseFloat(savedTime);

const musicAllowed = localStorage.getItem("musicAllowed") === "true";
const isPaused = localStorage.getItem("musicPaused") === "true";

/* ---------- BUTTON STATE ---------- */
toggleBtn.textContent = (!isPaused && musicAllowed) ? "â¸ Pause" : "â–¶ Play";

/* ---------- TRY AUTOPLAY ---------- */
if (musicAllowed && !isPaused) {
  music.play().catch(() => {
    // Browser blocked autoplay â€” user must click once
  });
}

/* ---------- SAVE TIME ---------- */
setInterval(() => {
  if (!music.paused) {
    localStorage.setItem("musicTime", music.currentTime);
  }
}, 500);

/* ---------- TOGGLE ---------- */
toggleBtn.onclick = (e) => {
  e.stopPropagation();

  if (music.paused) {
    music.play().then(() => {
      toggleBtn.textContent = "â¸ Pause";
      localStorage.setItem("musicAllowed", "true");
      localStorage.setItem("musicPaused", "false");
    }).catch(()=>{});
  } else {
    music.pause();
    toggleBtn.textContent = "â–¶ Play";
    localStorage.setItem("musicPaused", "true");
  }
};

/* ---------- NEXT ---------- */
function goNext() {
  window.location.href = "letter.html";
}

/* ---------- FLOWERS ---------- */
const flowerContainer = document.querySelector(".flower-container");
const flowers = ["ğŸŒ¸","ğŸŒº","ğŸŒ¼","ğŸŒ·"];

for (let i = 0; i < 25; i++) {
  const f = document.createElement("span");
  f.className = "flower";
  f.textContent = flowers[Math.floor(Math.random() * flowers.length)];
  f.style.left = Math.random() * 100 + "vw";
  f.style.animationDuration = 4 + Math.random() * 5 + "s";
  f.style.animationDelay = Math.random() * 5 + "s";
  flowerContainer.appendChild(f);
}
</script>

</body>
</html>








