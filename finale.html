<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Happy Birthday ðŸŽ‰</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
</head>

<body class="night-bg finale-bg">

<!-- ðŸŽµ Background Music -->
<audio id="bgMusic" loop>
  <source src="swim.mp3" type="audio/mpeg">
</audio>

<div class="container finale-container">
  <h1 class="fade-in">ðŸŽ‰ Happy Birthday ðŸŽ‰</h1>

  <p class="fade-in delay-1">
    I hope this little surprise made you smile ðŸ’–
  </p>

  <p class="fade-in delay-2">
    May this year bring you happiness, peace,
    and everything you truly deserve âœ¨
  </p>

  <p class="fade-in delay-3 signature">
    â€” Enjoy Moonshine!
  </p>
</div>

<!-- ðŸŽ† Confetti -->
<div class="confetti-container"></div>

<script>
/* ðŸŽµ MUSIC CONTINUITY */
const music = document.getElementById("bgMusic");

const savedTime = localStorage.getItem("musicTime");
if (savedTime) {
  music.currentTime = parseFloat(savedTime);
}

const musicAllowed = localStorage.getItem("musicAllowed") === "true";
const isPaused = localStorage.getItem("musicPaused") === "true";

// Auto play if user already allowed music
if (musicAllowed && !isPaused) {
  music.play().catch(() => {});
}

// Keep saving time
setInterval(() => {
  if (!music.paused) {
    localStorage.setItem("musicTime", music.currentTime);
  }
}, 500);

/* ðŸŽ‰ CONFETTI */
const confettiContainer = document.querySelector(".confetti-container");

for (let i = 0; i < 60; i++) {
  const confetti = document.createElement("span");
  confetti.classList.add("confetti");
  confetti.style.left = Math.random() * 100 + "vw";
  confetti.style.animationDelay = Math.random() * 5 + "s";
  confetti.style.animationDuration = 3 + Math.random() * 3 + "s";
  confettiContainer.appendChild(confetti);
}
</script>


</body>
</html>


