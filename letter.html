<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>A Letter For You ğŸ’Œ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
</head>

<body class="night-bg">

  <!-- Stars -->
  <div class="star-container"></div>

  <!-- Background Music -->
  <audio id="bgMusic" loop>
    <source src="swim.mp3" type="audio/mpeg">
  </audio>

  <!-- Play / Pause Button -->
  

  <!-- Content -->
  <div class="container letter-container">
    <h1 class="fade-in">ğŸ’Œ Sirf Apke liyeğŸ«¶</h1>

    <p class="letter fade-in delay-1">
      I donâ€™t say this enough, but you truly mean a lot to me.
      Your presence, your kindness, and even the little things
      you do make a bigger difference than you realize.
    </p>
<p class="letter fade-in delay-2">
      Never regret Galtiyan Insaan se hi hoti. 
      Hamse(Mujhse) kuch hua hoto Maaf kardena,
      aur han...
    </p>
    <p class="letter fade-in delay-2">
      On your birthday, I just want you to remember that
      you are appreciated, valued, and NEVER ALONE.
      Iâ€™m always rooting for you â€” today and always ğŸ’–
    </p>
    <p class="letter fade-in delay-3 signature">
      â€” From someone who cares ğŸŒ¸
    </p>
    <button id="musicToggle" class="enter-btn show-btn fade-in delay-3">â¸</button>
    <button class="enter-btn show-btn fade-in delay-3"
            onclick="goNext()">
      Final Surprise ğŸ
    </button>
  </div>

  <!-- Script -->
  <script>
    const music = document.getElementById("bgMusic");
    const toggleBtn = document.getElementById("musicToggle");

    /* ---------- MUSIC SETUP ---------- */
    if (music && toggleBtn) {

      // Restore time
      const savedTime = localStorage.getItem("musicTime");
      if (savedTime) {
        music.currentTime = parseFloat(savedTime);
      }

      // Restore state
      const musicAllowed = localStorage.getItem("musicAllowed") === "true";
      const isPaused = localStorage.getItem("musicPaused") === "true";

      toggleBtn.textContent = isPaused ? "â–¶ Play" : "â¸ Pause";

      // Auto-play if already allowed
      if (musicAllowed && !isPaused) {
        music.play().catch(()=>{});
      }

      // Save time continuously
      setInterval(() => {
        if (!music.paused) {
          localStorage.setItem("musicTime", music.currentTime);
        }
      }, 500);

      // Toggle button
      toggleBtn.onclick = (e) => {
        e.stopPropagation();

        if (music.paused) {
          music.play().then(() => {
            toggleBtn.textContent = "â¸ Pause";
            localStorage.setItem("musicPaused", "false");
            localStorage.setItem("musicAllowed", "true");
          }).catch(()=>{});
        } else {
          music.pause();
          toggleBtn.textContent = "â–¶ Play";
          localStorage.setItem("musicPaused", "true");
        }
      };
    }

    /* ---------- NEXT PAGE ---------- */
    function goNext() {
      window.location.href = "finale.html";
    }

    /* ---------- STARS ---------- */
    const starContainer = document.querySelector(".star-container");
    const stars = ["â­", "âœ¨", "ğŸŒŸ"];

    for (let i = 0; i < 35; i++) {
      const s = document.createElement("span");
      s.className = "star";
      s.textContent = stars[Math.floor(Math.random() * stars.length)];
      s.style.left = Math.random() * 100 + "vw";
      s.style.animationDuration = 5 + Math.random() * 6 + "s";
      s.style.animationDelay = Math.random() * 6 + "s";
      starContainer.appendChild(s);
    }
  </script>

</body>
</html>



